# BDLabs
Филипеня Александра, гр. 153503. Предметная область - Афиша.
## Описание сущностей
### EventType
Таблица описывает типы мероприятий и содержит следующие поля:
- id - уникальный идентификатор типа мероприятия; 
- type (char(50)) - тип мероприятия.
  
Связана с таблицей "Event" отношением "Один ко многим": мероприятие может быть только одного типа, но к одному типу может относится несколько мероприятий.
### Location
Таблица описывает место проведения мероприятия и содержит следующие поля:
- id - уникальный идентификатор места проведения меропрития; 
- city (char(50)) - город;
- street (char(50)) - улца;
- building_number (int) - номер здания;
- building_name (char(50)) - название здания.
  
Связана с таблицей "Event" отношением "Многие ко многим": одно мероприятие может проходить в нескольких местах, в то же время и в одном месте может проходить несколько мероприятий.
### Organizer
Таблица описывает организатора мероприятия и содержит следующие поля:
- id - уникальный идентификатор организатора; 
- name (char(100)) - название организатора мероприятия;
- location_id (foreign key) - адрес организатора;
- phone_number (char(13)) - номер телефона.
  
Связана с таблицей "Event" отношением "Один ко многим": у одного мероприятия есть только один организатор, в то время как один органзатор может работать с несколькими мероприятиями.
Связана с таблицей "Location" отношением "Один к одному": один организатор располагается по одному адресу, то есть складывается отношение "один организатор - один адрес".
### AgeLimit
Таблица описывает возрастное ограничение на мероприятия и содержит следующие поля:
- id - уникальный идентификатор возрастного ограничения; 
- value (int) - значение возрастного ограничения.
  
Связана с таблицей "Event" отношением "Один ко многим": мероприятие имеет лишь одно значение возрастного ограничения, в то время как одинаковое значение возрастного ограничения может иметь несколько мероприятий.
### Event
Таблица описывает мероприятие и содержит следующие поля:
- id - уникальный идентификатор мероприятия; 
- name (char(100)) - название мероприятия;  
- description (char(1000)) - описание мероприятия;  
- location_id (foreign key) - место проведения;  
- event_type_id (foreign key) - тип мероприятия;  
- date (datetime) - дата и время проведения мероприятия;  
- organizer_id (foreign key) - организатор;  
- age_limit_id (foreign key) - возрастное ограничение.

Связана с таблицей "EventType" отношением "Один ко многим": мероприятие может быть только одного типа, но к одному типу может относится несколько мероприятий.
Связана с таблицей "Location" отношением "Многие ко многим": одно мероприятие может проходить в нескольких местах, в то же время и в одном месте может проходить несколько мероприятий.
Связана с таблицей "Organizer" отношением "Один ко многим": у одного мероприятия есть только один организатор, в то время как один органзатор может работать с несколькими мероприятиями.
Связана с таблицей "AgeLimit" отношением "Один ко многим": мероприятие имеет лишь одно значение возрастного ограничения, в то время как одинаковое значение возрастного ограничения может иметь несколько мероприятий.
### EventLocations
Необходима для реализации связи "Многие ко многим" и выступает в качестве посредника между двумя таблицами: Event и Location. Хранит два внешних ключа, первый из которых ссылается на первую таблицу, а второй — на вторую.:
- id - уникальный идентификатор; 
- event_id (foreign key);
- location_id (foreign key).
### Place
Таблица описывает место и содержит следующие поля:
- id - уникальный идентификатор места; 
- hall (int) - номер зала;
- row (int) - ряд;
- place (int) - место.
  
Связана с таблицей "Ticket" отношением "Один ко многим": в одном билете указано одно место, но на одно место можно покупать несколько балетов на различные мероприятия.
### Ticket
Таблица описывает билет на мероприятие и содержит следующие поля:
- id - уникальный идентификатор билета; 
- event_id (foreign key) - соответсвующее билету мероприятие;
- available (bool) - статус билета: доступен к продаже или продан;
- place_id (foreign key) - место;
- price (int) - цена билета.
  
Связана с таблицей "Place" отношением "Один ко многим": в одном билете указано одно место, но на одно место можно покупать несколько балетов на различные мероприятия.
Связана с таблицей "Purchase" отношением "Один к одному": складываются отношения "одна покупка - один билет".
### Client
Таблица описывает покупателя билета и содержит следующие поля:
- id - уникальный идентификатор клиента; 
- first_name (char(50)) - имя покупателя;
- last_name (char(50)) - фамилия покупателя;
- password (char(50)) - пароль;
- email (char(50)) - адрес электронной почты;
- phone_number (char(13)) - номер телефона.
  
Связана с таблицей "Purchase" отношением "Один ко многим": один клент может совершить несколько покупок, и в одной покупке принимает участие один клиент.
### Purchase
Таблица описывает приобретение билета и содержит следующие поля:
- id - уникальный идентификатор покупки; 
- client_id (foreign key) - покупатель;
- ticket_id (foreign key) - билет;
- date (datetime) - дата совершения покупки.
  
Связана с таблицей "Client" отношением "Один ко многим": один клент может совершить несколько покупок, и в одной покупке принимает участие один клиент.
Связана с таблицей "Ticket" отношением "Один к одному": складываются отношения "одна покупка - один билет".
